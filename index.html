
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ãƒãƒ‹ãƒ¼è‚²æˆ & ãƒãƒˆãƒ«</title>
  <style>
#evolution-overlay, #ending-message {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.8); color: white; display: none;
  justify-content: center; align-items: center; font-size: 24px;
  z-index: 999;
}

    body { font-family: sans-serif; background-color: #f8f8f8; padding: 20px; text-align: center; }
    .btn { margin: 10px; padding: 10px 20px; font-size: 16px; }
    #log { margin-top: 20px; white-space: pre-line; border-top: 1px solid #ccc; padding-top: 10px; }
    #bunny-img, #enemy-img { width: 150px; margin-bottom: 20px; }
    #battle-screen, #è‚²æˆç”»é¢ { display: none; }
  </style>
</head>
<body>
  <h1>ãƒãƒ‹ãƒ¼è‚²æˆï¼†ãƒãƒˆãƒ«</h1>

  <!-- è‚²æˆç”»é¢ -->
  <div id="è‚²æˆç”»é¢">
    <h2>è‚²æˆãƒ¢ãƒ¼ãƒ‰</h2>
    <img id="bunny-img" src="bunny_softred.png" alt="ãƒãƒ‹ãƒ¼">
    <p>EXP: <span id="exp">0</span> / Fullness: <span id="fullness">100</span> / Fatigue: <span id="fatigue">0</span> / Steroids: <span id="steroids">0</span></p>
    
    <button class="btn" onclick="eatCarrot()">ğŸ¥• ã«ã‚“ã˜ã‚“</button>
    <button class="btn" onclick="eatSteak()">ğŸ¥© ã‚¹ãƒ†ãƒ¼ã‚­</button>
    <button class="btn" onclick="eatSalad()">ğŸ¥— ã‚µãƒ©ãƒ€</button>
    
    <button class="btn" onclick="rest()">ä¼‘æ†©</button>
    <button class="btn" onclick="useSteroid()">ã‚¹ãƒ†ãƒ­ã‚¤ãƒ‰</button>
    <button class="btn" onclick="goToBattle()">â–¶ï¸ ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ï¼ˆãƒãƒˆãƒ«ã¸ï¼‰</button>
    <p id="evolutionStatus"></p>
  </div>

  <!-- ãƒãƒˆãƒ«ç”»é¢ -->
  <div id="battle-screen">
    <h2>ãƒãƒˆãƒ«ãƒ¢ãƒ¼ãƒ‰</h2>
    <p>ãƒ¬ãƒ™ãƒ«: <span id="level">1</span> / EXP: <span id="levelExp">0</span> / æ¬¡ã®ãƒ¬ãƒ™ãƒ«ã¾ã§: <span id="levelThreshold">50</span></p>
    <p>HP: <span id="playerHP">100</span> / Enemy: <span id="enemyName">ã‚¹ãƒ©ã‚¤ãƒ </span> / HP: <span id="enemyHP">50</span></p>
    <img id="enemy-img" src="slime.png" alt="æ•µ">
    <p id="enemyMsg">ã·ã‚‹ã·ã‚‹ã—ã¦ã‚„ã‚‹ãï¼</p>
    <button class="btn" onclick="attack()">æ”»æ’ƒ</button>
    <button class="btn" onclick="goToè‚²æˆ()">â—€ï¸ è‚²æˆç”»é¢ã¸æˆ»ã‚‹</button>
  </div>

  <button class="btn" onclick="saveGame()">ğŸ’¾ ã‚»ãƒ¼ãƒ–</button>
<button class="btn" onclick="toggleStatus()">ğŸ“Š ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¦‹ã‚‹</button>

<div id="status-screen" style="display:none; margin-top:20px; background:#eef; padding:10px; border-radius:8px;">
  <h3>ãƒãƒ‹ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</h3>
  <p>ãƒ¬ãƒ™ãƒ«: <span id="status-level"></span></p>
  <p>EXP: <span id="status-exp"></span></p>
  <p>æº€è…¹åº¦: <span id="status-fullness"></span></p>
  <p>ç–²åŠ´: <span id="status-fatigue"></span></p>
  <p>HP: <span id="status-hp"></span></p>
  <p>é€²åŒ–çŠ¶æ…‹: <span id="status-evolved"></span></p>
  <p>ã‚¹ãƒ†ãƒ­ã‚¤ãƒ‰ä½¿ç”¨: <span id="status-steroids"></span> å›</p>
  <p>ç¾åœ¨ã®çŠ¶æ…‹: <span id="status-condition"></span></p>
  <h4>è‚²æˆå±¥æ­´</h4>
  <div id="history-log" style="background:#fff; padding:10px; height:120px; overflow:auto;"></div>
</div>

<div id="log" style="min-height:120px; border-top:1px solid #ccc; margin-top:20px; padding-top:10px; background:#fff;"></div>

  <script>
    let playerHP = 100;
    let exp = 0;
    let fullness = 100;
    let fatigue = 0;
    let steroidCount = 0;
    let evolved = false;
    let level = 1;
    let levelExp = 0;
    let levelThreshold = 50;
    let isPlayerTurn = true;
    let currentEnemyIndex = 0;

    const enemies = [
      { name: "ã‚¹ãƒ©ã‚¤ãƒ ", hp: 50, atk: 5, img: "slime.png", msg: "ã·ã‚‹ã·ã‚‹ã—ã¦ã‚„ã‚‹ãï¼" },
      { name: "ã‚«ãƒ¡ã‚¬ãƒ¼ãƒ‰", hp: 80, atk: 10, img: "turtle.png", msg: "ãŠã¾ãˆã«çªç ´ã§ãã‚‹ã‹â€¦ï¼Ÿ" },
      { name: "ãƒ•ã‚¡ã‚¤ã‚¢ã‚­ãƒ£ãƒƒãƒˆ", hp: 120, atk: 20, img: "firecat.png", msg: "ã“ã“ã‹ã‚‰å…ˆã«ã¯è¡Œã‹ã›ãªã„ï¼" }
    ];
    let enemyHP = enemies[currentEnemyIndex].hp;

    function updateUI() {
      document.getElementById('playerHP').innerText = playerHP;
      document.getElementById('enemyHP').innerText = enemyHP;
      document.getElementById('enemyName').innerText = enemies[currentEnemyIndex].name;
      document.getElementById('enemy-img').src = enemies[currentEnemyIndex].img;
      document.getElementById('enemyMsg').innerText = enemies[currentEnemyIndex].msg;
      document.getElementById('exp').innerText = exp;
      document.getElementById('fullness').innerText = fullness;
      document.getElementById('fatigue').innerText = fatigue;

  let bunnyImg = "bunny_softred.png";
  if (evolved && steroidCount >= 3) {
    bunnyImg = "rage_bunny.png";
  } else if (evolved) {
    bunnyImg = "angry_bunny_softred.png";
  } else if (fullness === 0 && fatigue >= 50) {
    bunnyImg = "bunny_tired.png";
  } else if (fullness <= 50) {
    bunnyImg = "bunny_hungry.png";
  }
  document.getElementById("bunny-img").src = bunnyImg;

      document.getElementById('steroids').innerText = steroidCount;
      document.getElementById('level').innerText = level;
      document.getElementById('levelExp').innerText = levelExp;
      document.getElementById('levelThreshold').innerText = levelThreshold;

      if (!evolved && exp >= 50 && fullness >= 50 && fatigue <= 30 && steroidCount < 3) {
        evolved = true;
        document.getElementById('evolutionStatus').innerText = 'ãƒãƒ‹ãƒ¼ã¯ã‚¢ãƒ³ã‚°ãƒªãƒ¼ãƒãƒ‹ãƒ¼ã«é€²åŒ–ã—ãŸï¼ğŸ”¥';
        document.getElementById('bunny-img').src = 'angry_bunny_softred.png';
        log("\nğŸ”¥ é€²åŒ–ã—ã¾ã—ãŸï¼æ”»æ’ƒåŠ›ãŒ2å€ã«ãªã‚Šã¾ã™ï¼");
      } else if (!evolved && steroidCount >= 3) {
        evolved = true;
        document.getElementById('evolutionStatus').innerText = 'ãƒãƒ‹ãƒ¼ã¯æš´èµ°ãƒãƒ‹ãƒ¼ã«é—‡å •ã¡ã—ãŸâ€¦ğŸ’€';
        document.getElementById('bunny-img').src = 'rage_bunny.png';
        log("\nğŸ’€ ã‚¹ãƒ†ãƒ­ã‚¤ãƒ‰ã®ä½¿ã„ã™ãã§ãƒãƒ‹ãƒ¼ãŒæš´èµ°ã—ãŸï¼ï¼");
      }
    }

    function attack() {
      if (!isPlayerTurn || playerHP <= 0 || enemyHP <= 0) return;
      let damage = evolved && steroidCount >= 3 ? 40 : evolved ? 20 : 10;
      enemyHP = Math.max(0, enemyHP - damage);
      playSE("se-attack"); log(`æ”»æ’ƒã—ãŸï¼æ•µã«${damage}ãƒ€ãƒ¡ãƒ¼ã‚¸ï¼`);
      isPlayerTurn = false;

      if (enemyHP <= 0) {
        playSE("se-win"); log(`${enemies[currentEnemyIndex].name}ã‚’å€’ã—ãŸï¼EXP+20, ãƒ¬ãƒ™ãƒ«çµŒé¨“å€¤+50`); historyLog.push(`ğŸ’¥ ${enemies[currentEnemyIndex].name} ã‚’å€’ã—ãŸ`);
        exp += 20;
        levelExp += 50;
        if (levelExp >= levelThreshold) {
          level++;
          levelExp = 0;
          levelThreshold += 20;
          playerHP += 10;
          log(`ğŸ‰ ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ï¼ãƒ¬ãƒ™ãƒ«: ${level} / HP+10`);
        }
        currentEnemyIndex++;
        if (currentEnemyIndex < enemies.length) {
          enemyHP = enemies[currentEnemyIndex].hp;
          log(`â¡ æ¬¡ã®æ•µãŒç¾ã‚ŒãŸï¼š${enemies[currentEnemyIndex].name}`);
        } else {
          log("ğŸ‰ å…¨ã¦ã®æ•µã‚’å€’ã—ã¾ã—ãŸï¼"); document.getElementById("ending-message").style.display = "flex"; playSE("se-win");
          enemyHP = 0;
        }
      }

      
    if (fullness === 0 && fatigue >= 50) {
      if (!log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
        log("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦ä½•ã‚‚ã§ããªã„"); historyLog.push("ğŸ˜µ ãƒãƒ‹ãƒ¼ãŒãã£ãŸã‚Šã—ãŸ");
      }
      playerHP = Math.max(0, playerHP - 10);
    } else if (fatigue < 50 && fullness > 0 && log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
      log("ğŸ’¡ ãƒãƒ‹ãƒ¼ã¯å…ƒæ°—ã‚’å–ã‚Šæˆ»ã—ãŸï¼");
    }
    updateUI();
    
      if (enemyHP > 0) setTimeout(enemyAttack, 1000);
    }

    function enemyAttack() {
      const damage = enemies[currentEnemyIndex].atk;
      playerHP = Math.max(0, playerHP - damage);
      log(`${enemies[currentEnemyIndex].name}ã®åæ’ƒï¼${damage}ãƒ€ãƒ¡ãƒ¼ã‚¸ï¼`);
      isPlayerTurn = true;
      
    if (fullness === 0 && fatigue >= 50) {
      if (!log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
        log("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦ä½•ã‚‚ã§ããªã„"); historyLog.push("ğŸ˜µ ãƒãƒ‹ãƒ¼ãŒãã£ãŸã‚Šã—ãŸ");
      }
      playerHP = Math.max(0, playerHP - 10);
    } else if (fatigue < 50 && fullness > 0 && log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
      log("ğŸ’¡ ãƒãƒ‹ãƒ¼ã¯å…ƒæ°—ã‚’å–ã‚Šæˆ»ã—ãŸï¼");
    }
    updateUI();
    
    }

    function eat() {
      fullness = Math.min(100, fullness + 20);
      fatigue = Math.max(0, fatigue - 10);
      log("ãƒãƒ‹ãƒ¼ã¯ã”ã¯ã‚“ã‚’ãŸã¹ãŸï¼æº€è…¹åº¦+20 / ç–²åŠ´-10");
      
    if (fullness === 0 && fatigue >= 50) {
      if (!log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
        log("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦ä½•ã‚‚ã§ããªã„"); historyLog.push("ğŸ˜µ ãƒãƒ‹ãƒ¼ãŒãã£ãŸã‚Šã—ãŸ");
      }
      playerHP = Math.max(0, playerHP - 10);
    } else if (fatigue < 50 && fullness > 0 && log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
      log("ğŸ’¡ ãƒãƒ‹ãƒ¼ã¯å…ƒæ°—ã‚’å–ã‚Šæˆ»ã—ãŸï¼");
    }
    updateUI();
    
    }

    function rest() {
      fatigue = Math.max(0, fatigue - 20);
      log("ä¼‘æ†©ã—ãŸï¼ç–²åŠ´-20");
      
    if (fullness === 0 && fatigue >= 50) {
      if (!log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
        log("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦ä½•ã‚‚ã§ããªã„"); historyLog.push("ğŸ˜µ ãƒãƒ‹ãƒ¼ãŒãã£ãŸã‚Šã—ãŸ");
      }
      playerHP = Math.max(0, playerHP - 10);
    } else if (fatigue < 50 && fullness > 0 && log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
      log("ğŸ’¡ ãƒãƒ‹ãƒ¼ã¯å…ƒæ°—ã‚’å–ã‚Šæˆ»ã—ãŸï¼");
    }
    updateUI();
    
    }

    function useSteroid() {
      steroidCount++;
      exp += 30;
      fatigue += steroidCount * 10;
      fullness = Math.max(0, fullness - steroidCount * 5);
      log(`ã‚¹ãƒ†ãƒ­ã‚¤ãƒ‰ä½¿ç”¨ï¼EXP+30ã€å‰¯ä½œç”¨ç´¯ç©ï¼ˆç–²åŠ´+${steroidCount * 10} / æº€è…¹-${steroidCount * 5}ï¼‰`);
      
    if (fullness === 0 && fatigue >= 50) {
      if (!log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
        log("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦ä½•ã‚‚ã§ããªã„"); historyLog.push("ğŸ˜µ ãƒãƒ‹ãƒ¼ãŒãã£ãŸã‚Šã—ãŸ");
      }
      playerHP = Math.max(0, playerHP - 10);
    } else if (fatigue < 50 && fullness > 0 && log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
      log("ğŸ’¡ ãƒãƒ‹ãƒ¼ã¯å…ƒæ°—ã‚’å–ã‚Šæˆ»ã—ãŸï¼");
    }
    updateUI();
    
    }

    function goToBattle() {
      exp += 10;
      fatigue += 15;
      fullness = Math.max(0, fullness - 10);
      document.getElementById("è‚²æˆç”»é¢").style.display = "none";
      document.getElementById("battle-screen").style.display = "block";
switchBGM("ãƒãƒˆãƒ«");
      log("ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚¹ã‚¿ãƒ¼ãƒˆï¼ï¼ˆEXP+10 / ç–²åŠ´+15 / æº€è…¹åº¦-10ï¼‰");
      
    if (fullness === 0 && fatigue >= 50) {
      if (!log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
        log("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦ä½•ã‚‚ã§ããªã„"); historyLog.push("ğŸ˜µ ãƒãƒ‹ãƒ¼ãŒãã£ãŸã‚Šã—ãŸ");
      }
      playerHP = Math.max(0, playerHP - 10);
    } else if (fatigue < 50 && fullness > 0 && log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
      log("ğŸ’¡ ãƒãƒ‹ãƒ¼ã¯å…ƒæ°—ã‚’å–ã‚Šæˆ»ã—ãŸï¼");
    }
    updateUI();
    
    }

    function goToè‚²æˆ() {
      document.getElementById("battle-screen").style.display = "none";
      document.getElementById("è‚²æˆç”»é¢").style.display = "block";
switchBGM("è‚²æˆ");
      
    if (fullness === 0 && fatigue >= 50) {
      if (!log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
        log("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦ä½•ã‚‚ã§ããªã„"); historyLog.push("ğŸ˜µ ãƒãƒ‹ãƒ¼ãŒãã£ãŸã‚Šã—ãŸ");
      }
      playerHP = Math.max(0, playerHP - 10);
    } else if (fatigue < 50 && fullness > 0 && log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
      log("ğŸ’¡ ãƒãƒ‹ãƒ¼ã¯å…ƒæ°—ã‚’å–ã‚Šæˆ»ã—ãŸï¼");
    }
    updateUI();
    
    }

    
// æº€è…¹åº¦ã®è‡ªå‹•æ¸›å°‘ã¨ç©ºè…¹è­¦å‘Šï¼ˆ10ç§’ã”ã¨ï¼‰
setInterval(() => {
  if (document.getElementById("è‚²æˆç”»é¢").style.display === "block") {
    fullness = Math.max(0, fullness - 5);
    log("â° æ™‚é–“ãŒçµŒéâ€¦ æº€è…¹åº¦ -5");
    if (fullness <= 30) {
      log("ğŸ½ ãƒãƒ‹ãƒ¼ã€ŒãŠè…¹ã™ã„ãŸã‚ˆã€œï¼ã€");
    }
    
    if (fullness === 0 && fatigue >= 50) {
      if (!log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
        log("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦ä½•ã‚‚ã§ããªã„"); historyLog.push("ğŸ˜µ ãƒãƒ‹ãƒ¼ãŒãã£ãŸã‚Šã—ãŸ");
      }
      playerHP = Math.max(0, playerHP - 10);
    } else if (fatigue < 50 && fullness > 0 && log.includes("ğŸ˜µ ãƒãƒ‹ãƒ¼ã¯ãã£ãŸã‚Šã—ã¦ã„ã‚‹â€¦")) {
      log("ğŸ’¡ ãƒãƒ‹ãƒ¼ã¯å…ƒæ°—ã‚’å–ã‚Šæˆ»ã—ãŸï¼");
    }
    updateUI();
    
  }
}, 10000);


function eatCarrot() {
  if (fullness === 0 && fatigue >= 50) return log("ğŸ˜µ å‹•ã‘ãªã„â€¦ä¼‘ã¾ã›ã¦ã‚ã’ã‚ˆã†");
  fullness = Math.min(100, fullness + 10);
  playSE("se-eat"); log("ğŸ¥• ã«ã‚“ã˜ã‚“ã‚’é£Ÿã¹ãŸï¼æº€è…¹+10"); historyLog.push("ğŸ¥• ã«ã‚“ã˜ã‚“ã‚’é£Ÿã¹ãŸ");
  updateUI();
}

function eatSteak() {
  if (fullness === 0 && fatigue >= 50) return log("ğŸ˜µ å‹•ã‘ãªã„â€¦ä¼‘ã¾ã›ã¦ã‚ã’ã‚ˆã†");
  fullness = Math.min(100, fullness + 25);
  fatigue += 5;
  playSE("se-eat"); log("ğŸ¥© ã‚¹ãƒ†ãƒ¼ã‚­ã‚’é£Ÿã¹ãŸï¼æº€è…¹+25 / ç–²åŠ´+5"); historyLog.push("ğŸ¥© ã‚¹ãƒ†ãƒ¼ã‚­ã‚’é£Ÿã¹ãŸ");
  updateUI();
}

function eatSalad() {
  if (fullness === 0 && fatigue >= 50) return log("ğŸ˜µ å‹•ã‘ãªã„â€¦ä¼‘ã¾ã›ã¦ã‚ã’ã‚ˆã†");
  fullness = Math.min(100, fullness + 15);
  fatigue = Math.max(0, fatigue - 5);
  playSE("se-eat"); log("ğŸ¥— ã‚µãƒ©ãƒ€ã‚’é£Ÿã¹ãŸï¼æº€è…¹+15 / ç–²åŠ´-5"); historyLog.push("ğŸ¥— ã‚µãƒ©ãƒ€ã‚’é£Ÿã¹ãŸ");
  updateUI();
}


function saveGame() {
  const saveData = {
    exp, fullness, fatigue, level, playerHP, evolved, steroidCount
  };
  localStorage.setItem("bunnyGameSave", JSON.stringify(saveData));
  log("âœ… ã‚²ãƒ¼ãƒ é€²è¡Œã‚’ä¿å­˜ã—ã¾ã—ãŸ");
}

function loadGame() {
  const saved = localStorage.getItem("bunnyGameSave");
  if (saved) {
    const data = JSON.parse(saved);
    exp = data.exp || 0;
    fullness = data.fullness || 100;
    fatigue = data.fatigue || 0;
    level = data.level || 1;
    playerHP = data.playerHP || 100;
    evolved = data.evolved || false;
    steroidCount = data.steroidCount || 0;
    log("ğŸ”„ ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ");
    updateUI();
  }
}
window.onload = loadGame;


const historyLog = [];

function toggleStatus() {
  const screen = document.getElementById("status-screen");
  if (screen.style.display === "none") {
    updateStatusUI();
    screen.style.display = "block";
  } else {
    screen.style.display = "none";
  }
}

function updateStatusUI() {
  document.getElementById("status-level").innerText = level;
  document.getElementById("status-exp").innerText = exp;
  document.getElementById("status-fullness").innerText = fullness;
  document.getElementById("status-fatigue").innerText = fatigue;
  document.getElementById("status-hp").innerText = playerHP;
  document.getElementById("status-evolved").innerText = evolved ? (steroidCount >= 3 ? "æš´èµ°ãƒãƒ‹ãƒ¼" : "ã‚¢ãƒ³ã‚°ãƒªãƒ¼ãƒãƒ‹ãƒ¼") : "æœªé€²åŒ–";
  document.getElementById("status-steroids").innerText = steroidCount;
  const cond = (fullness === 0 && fatigue >= 50) ? "ãã£ãŸã‚Š" : (fullness <= 50 ? "ãŠè…¹ã™ã„ãŸ" : "å…ƒæ°—");
  document.getElementById("status-condition").innerText = cond;

  document.getElementById("history-log").innerHTML = historyLog.map(x => "<div>" + x + "</div>").join("");
}


function playSE(id) {
  const se = document.getElementById(id);
  if (se) {
    se.currentTime = 0;
    se.play();
  }
}

function switchBGM(mode) {
  const peaceful = document.getElementById("bgm-peaceful");
  const battle = document.getElementById("bgm-battle");
  if (mode === "è‚²æˆ") {
    battle.pause();
    peaceful.currentTime = 0;
    peaceful.play();
  } else {
    peaceful.pause();
    battle.currentTime = 0;
    battle.play();
  }
}

goToè‚²æˆ();

  </script>

<audio id="bgm-peaceful" loop src="bgm_peaceful.mp3"></audio>
<audio id="bgm-battle" loop src="bgm_battle.mp3"></audio>
<audio id="se-attack" src="attack.mp3"></audio>
<audio id="se-eat" src="eat.mp3"></audio>
<audio id="se-win" src="win.mp3"></audio>

<div id="evolution-overlay">âœ¨ ãƒãƒ‹ãƒ¼ã¯é€²åŒ–ã—ã¦ã„ã‚‹â€¦ âœ¨</div>
<div id="ending-message">ğŸ‰ ãƒãƒ‹ãƒ¼ã¯ä¸–ç•Œã‚’æ•‘ã£ãŸï¼</div>
</body>
</html>
